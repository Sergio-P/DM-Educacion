<html ng-app="Educacion">
<head>
	<title>Educación</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/font-awesome.min.css"/>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.4/angular.js"></script>
	<link rel="stylesheet" type="text/css" href="main.css">
	<script src="main.js"></script>
</head>
<body ng-controller="MainController">
	<div class="top-bar">
	<ul class="btn-list">
		<li ng-click="setPage(1)">Descripción</li>
		<li ng-click="setPage(2)">Datos</li>
		<li ng-click="setPage(3)">Limpieza</li>
		<li ng-click="setPage(4)">Exploración</li>
		<li ng-click="setPage(5)">Clustering</li>
		<li ng-click="setPage(6)">Reglas de Asociación</li>
	</ul>
</div>
<div class="container">
	<div class="content">
	<section ng-show="page==1">
		<h3><i class="fa fa-question-circle"></i> Descripción del Problema</h3>
		<img src="gpx/edpic1.jpg" class="fullimg">
		<p>La educación superior en Chile es un tema que todo ciudadano debe tomar en cuenta, y por ello ésta amerita un profundo estudio de su comportamiento con el objetivo de crear políticas públicas acordes a su situación actual. En este proyecto se analizarán sólo ciertos aspectos de la educación superior: los procesos de matrícula y titulación de todas las universidades, centros de formación técnica e institutos profesionales del territorio chileno; con tal de obtener posible información relacionada a correlación entre deserción y características de la carrera. Estos procesos, al ser contemporáneos y a nivel nacional, manejan un gran cantidad de datos de variados aspectos: cantidad de titulados, origen de ellos, etc.; los cuales con un análisis estadístico estándar no se podría obtener toda la información que estos datos pueden ocultar, es por eso que se debe recurrir a técnicas de minería de datos para revelar esta información. En particular, se usará la técnica de reglas de asociación, para ver cuáles son las características de las carreras que tienen correlación con que la carrera tenga una deserción alta o baja.<br>
		</p>
	</section>

	<section ng-show="page==2">
		<h3><i class="fa fa-database"></i> Descripción de los Datos</h3>
		<p>Los datos fueron obtenidos del sitio web del gobierno <a href="http://www.mifuturo.cl">www.mifuturo.cl</a>, en donde hay datasets de matriculados, titulados e información general sobre las carreras.</p>
		<img class="fullimg" src="gpx/edpic2.jpg">
		<p>
<h4>Matriculados</h4>
El dataset de Matriculados a la Educación Superior, con 113098 filas, entrega para los años desde el 2007 al 2015 los siguientes datos para cada carrera:<br>
<ul class="list-group">
<li class="list-group-item">Total de matriculados por año en todos los años de educación, y también este mismo dato separado entre hombres y mujeres.</li>
<li class="list-group-item">Total de matriculados de primer año, también separado en hombres y mujeres.</li>
<li class="list-group-item">Clasificación de la institución, ésta puede ser una Universidad, Instituto Profesional o Centro de Formación Técnica. A la vez las universidades pueden ser estatales CRUCH, privadas CRUCH o privadas no CRUCH.</li>
<li class="list-group-item">Nombre de la institución junto a la ciudad y región en donde está.</li>
<li class="list-group-item">Nombre de la carrera con área y subáreas de acuerdo a distintas clasificaciones (como CINE-UNESCO u OCDE) y su duración con y sin trabajo de título.</li>
<li class="list-group-item">Clasificación de la carrera como profesional, técnica o de posgrado, si ésta es presencial o no y si es de carácter Diurno o Vespertino.</li>
<li class="list-group-item">Los rangos de edades de los matriculados, en grupos de 15 a 19 años, 20 a 24, 25 a 29, 30 a 34, 35 a 39 y 40 o más.</li>
<li class="list-group-item">Promedio de edad de los estudiantes, junto a esta misma estadística separada entre hombres y mujeres.</li>
<li class="list-group-item">Cantidad de alumnos matriculados que provienen de colegios municipales, particulares subvencionados y particulares pagados.</li>
<li class="list-group-item">Cantidad y porcentaje de alumnos que provienen de enseñanza media.</li>
<li class="list-group-item">Cantidad y clasificación de alumnos de acuerdo a colegios Científico Humanista, Técnico Profesional Comercial, Técnico Profesional Industrial, Técnico Profesional Agrícola y Técnico Profesional Marítima, y a la vez si son establecimientos para Jóvenes, Adultos y si son Vespertino y Nocturno.</li>
</ul>
<hr>
<h4>Titulados</h4>
El dataset de Titulados de la Educación Superior, en sus 72986 filas,  tiene para los años desde el 2007 al 2014 los siguientes datos por carrera:<br>
<ul class="list-group">
<li class="list-group-item">Total de matriculados en el año, y también este mismo dato separado entre hombres y mujeres.</li>
<li class="list-group-item">Rango de edad de los titulados, en grupos de 15 a 19 años, 20 a 24, 25 a 29, 30 a 34, 35 a 39 y 40 o más.</li>
<li class="list-group-item">Promedio de edad de los titulados, junto a la misma estadística para hombres y mujeres.</li>
<li class="list-group-item">También están los mismos datos de los puntos 3, 4, 5 y 6 del dataset de Matriculados.</li>
</ul>
<hr>
<h4>Aranceles</h4>
El dataset de aranceles obtenido de mifuturo.cl, con sus 141756 filas, contiene entre los años 2007 y 2016 los siguiente datos de cada carrera:<br>
<ul class="list-group">
<li class="list-group-item">Costo matrícula anual, titulación y arancel anual.</li>
<li class="list-group-item">Tipo de institución 1, 2 y 3: donde 1 corresponde a si es universidad, instituto profesional o CFT; 2 corresponde a si es univesidad privada o del CRUCH, instituto profesional o CFT; y 3 corresponde a si es universidad del CRUCH estatal o privada, instituto profesional o CFT.</li>
<li class="list-group-item">Contiene Region, Comuna y Ciudad de la institución.</li>
<li class="list-group-item">Área carrera genérica, área CINUESCO, área y subárea OCDE.</li>
<li class="list-group-item">Tipo IES, código IES, nombre IES.</li>
<li class="list-group-item">Código sede, nombre sede.</li>
<li class="list-group-item">Código de la carrera (dentro de la institución), nombre carrera.</li>
<li class="list-group-item">Modalidad, jornada, tipo de carrera, si aplica o no plan especial (ej: plan para trabajadores, plan de funcionarios públicos, etc).</li>
<li class="list-group-item">Duración (en semestres) de estudios de pregrado, de titulación y en total.</li>
<li class="list-group-item">Nombre del título, grado académico, nivel global (pregrado, posgrado, postítulo), nivel carrera (bachillerato, técnica de nivel superior, licenciatura, etc).</li>
<li class="list-group-item">Código DEMRE.</li>
<li class="list-group-item">Si es está acreditada o no. Si es elegible para beca pedagógica.</li>
<li class="list-group-item">Vigencia de alumnos nuevo, o solo alumnos antiguos.</li>
<li class="list-group-item">Año de inicio.</li>
<li class="list-group-item"> Vacantes semestre uno y dos.</li>
<li class="list-group-item">Puntaje PSU de corte y ponderación promedio en cada prueba de esta.</li>
</ul>
<hr>
<h4>Otros Datasets</h4>
Además se agregaron los indicadores de población total de la región en donde se ubica el establecimiento de educación superior y del producto interno bruto (PIB) de la región.<br></p>
	</section>

	<section ng-show="page==3">
		<h3><i class="fa fa-eraser"></i> Limpieza de Datos</h3>
		<img class="fullimg" src="gpx/edpic3.jpg">
		<p><h4>Correctitud de tipos</h4>
Se llevó todo a una base de datos, donde hubo que hacer ciertos cambios a los datos para poder importarlos correctamente, como cambiar las comas decimales por puntos y cambiar la notación de años por números, ya que estaban representados con una palabra antes.<br><br>
<h4>Cálculo de la deserción</h4>
Luego se creó la fórmula para calcular una aproximación de la deserción cada año, que es:<br>
<img src="gpx/deserformula.jpg"><br>
d(n): Cantidad de desertores en el año n<br>
M(n): Cantidad de matriculados en todos los años el año n<br>
m(n): Cantidad de matriculados en primer año en el año n<br>
t(n): Cantidad de titulados de la carrera en el año n<br><br>
La lógica detrás de esta fórmula viene de que la cantidad de matriculados totales de un año junto a los nuevos matriculados del año siguiente o se matriculan en el año, se titulan o desertan.<br>
<br>
Este cálculo lleva a tener que eliminar tres tipos de datos:<br>
Aquellos que les falta cualquiera de los atributos necesarios para calcular la deserción<br>
Aquellos correspondientes al año más reciente ya que no hay suficientes datos para calcular la deserción al faltas los matriculados del año siguiente<br>
Aquellos que muestran una deserción negativa, al analizar estos casos individualmente se ve que son porque los datos no son coherentes, por ejemplo muestran 50 matriculados y 200 titulados por año.<br>
<br>
<h4>Normalización</h4>
Luego, toda columna que tiene cantidades fue normalizada, por ejemplo en el caso de matriculados masculinos y femeninos por carrera, ahora son una proporción con respecto a la cantidad total de matriculados de la carrera, lo mismo para los titulados. Para datos como la cantidad de matriculados, se dividió por la población total de la región y para el PIB, se usó cantidad de matriculados dividido por el PIB de la región.<br>
		</p>
	</section>

	<section ng-show="page==4">
		<h3><i class="fa fa-search"></i> Exploración</h3>
	</section>

	<section ng-show="page==5">
		<h3><i class="fa fa-bar-chart"></i> Resultados Clustering</h3>
		<p>
			El primer intento para caracterizar la deserción con otras variables de universidades se realizó mediante <strong>clustering</strong>. La idea inicial era dado los datos para deserción y otras variables como la cantidad de matriculados masculino, la cantidad de matriculados por población, la cantidad de matriculados por PIB, la cantidad de titulados masculino, el promedio de edad, la proporcion de matriculados de colegios municipales y particulares pagados. Estas variables se pueden ver inicialmente en la siguiente scatterplot matrix.</p>
		<div class="figure"><img src="gpx/sctmtx.png"><span>Scatterplot matrix para las usadas en clustering.</span></div>
		<p><br>
			<h4>K-Means</h4>
			Para comenzar se utilizará el método de clustering k-means. Dado que este método obliga a elegir una cantidad de clusters es necesario elegirlo de forma correcta, para esto se usó el gráfico error cuadrático medio vs. cantidad de clusters, como se muestra en la figura:
		</p>
		<div class="figure"><img src="gpx/nclust.png"> <span>Gráfico de error cuadrático medio vs número de clusters usando KMeans</span></div>
		<p>
			Usando el método del codo, se puede ver que el cambio ocurre cercano a K=6, por lo que se decidió usar 6 clusters. <br>
			Al ejecutar el algoritmo con K=6 se obtuvieron los clusters como se muestra en la figura:
		</p>
		<div class="figure"><img src="gpx/kmeans.png"><span>Gráfico de los cluster usando KMeans usando PCA para reducir las dimensiones</span></div>
		<p>
			Además los centroides tienen la siguiente distribución:
		</p>
		<pre>deser	mat_mas	mat_pob	mat_pib	tit_mas	at_edad	mat_mun	mat_par	mat_tes
0.32586	0.67196	0.00523	0.00576	0.80091	0.62517	0.07907	0.04894	0.25873
0.58267	0.42225	0.01696	0.01965	0.32704	0.48324	0.35374	0.02744	0.76347
0.25009	0.16792	0.02431	0.03118	0.10083	0.45223	0.37611	0.05164	0.86893
0.31577	0.33289	0.00520	0.00601	0.21304	0.63324	0.09024	0.05680	0.28724
0.17526	0.50876	0.02732	0.03376	0.49188	0.44703	0.27024	0.14122	0.88397
0.34624	0.85579	0.01671	0.01979	0.91708	0.45697	0.32689	0.04811	0.84205</pre>
		<p>
			Donde el más interesante es el segundo que tiene la deserción más alta, sin embargo no cumple con ninguna otra relación para las demás variables (como ser el máximo o mínimo) por lo cual no se puede tener un resultado concluyente.
		</p><br>
		<h4>DBScan</h4>
		<p>
			Además de KMeans se probó el método de clustering DBScan el cual tiene la ventaja de encontrar los clusters por densidad y no por proximidad únicamente a diferencia de K-Means, además es tolerante al ruido y no requiere indicar el número de clusters por lo que el resultado puede ser más coherente. <br>
			El resultado de ejecutar DBScan se muestra en la siguiente figura:
		</p>
		<div class="figure"><img src="gpx/dbscan.png"><span>Resultado de clustering con DBScan usando PCA para visualizar (blancos ruido)</span></div>
		<p>
			El resultado muestra que la mayoría de los datos están en un único cluster y la presencia de ruido es muy alta, por lo que no se puede encontrar una asociación de la deserción con otras variables.
		</p>
		<br>
		<h4>Validación</h4>
		<p>
			Dado el resultado inesperado de DBScan se procedió a ejecutar un proceso de validación sobre los resultados de KMeans, esto se realizó mediante la construcción de la matriz de distancia que se muestra a continuación:
		</p>
		<div class="figure"><img src="gpx/distmatrix.png"><span>Matriz de distancia para una muestra de datos de KMeans</span></div>
		<p>
			Los resultados muestran que la existencia de clusters es forzado y en realidad los elementos no se encuentran cercanos unos con otros, por lo que los resultados del proceso no son concluyentes.
		</p>
	</section>
	<section ng-show="page==6">
		<h3>Reglas de Asociación</h3>
			<h4>Nuevos Datos</h4>
		<p>
			Para esta etapa decidimos obtener nuevos indicadores obtenidos de los indicadores anteriormente seleccionados y el dataset de aranceles. Para ello se procedió a elegir solamente datos relevantes de la tabla de arancel como arancel y acreditación, ya que los demás datos de este dataset se pueden obtener de las demás tablas. Además dado que el proceso de reglas de asociación no se limita a tipos numéricos se pueden utilizar los atributos nominales de los dataset que antes no habían sido incluidos.<br><br>
La tercera tabla de indicadores se describe como:</p>
<ul class="list-group">
<li class="list-group-item">Año y código de la carrera (no se tomará en cuenta al momento de buscar reglas de asociación).</li>
<li class="list-group-item">Deserción normalizada con respecto al total de matriculados. numérico</li>
<li class="list-group-item">Total de matriculados: numérico</li>
<li class="list-group-item">Porcentaje de matriculados masculinos : numérico</li>
<li class="list-group-item">Edad promedio : numérico</li>
<li class="list-group-item">Porcentaje de alumnos de colegios municipales : numérico</li>
<li class="list-group-item">Porcentaje de alumnos de colegios particulares : numérico</li>
<li class="list-group-item">Arancel anual de la carrera : numérico</li>
<li class="list-group-item">Tipo de institución : String</li>
<li class="list-group-item">Área OCDE : String</li>
<li class="list-group-item">Modalidad presencial, semi-presencial o no presencial : String</li>
<li class="list-group-item">Jornada diurna, vespertina a distancia : String</li>
<li class="list-group-item">Acreditada o no : 1 si, 2 no.</li>
</ul>
<p>La mayoría de estos indicadores están en formato numérico y por lo tanto es imperativo <strong>discretizar</strong>. Para esto se creó un script Python que tome cada columna numérica y aplique una discretización en quintiles (5 grupos con igual cantidad de elementos), dándoles la categoría de Muy bajo, Bajo, Medio, Medio Alto, Alto.
	</p>
	</section>
</div>
</div>
</body>
</html>